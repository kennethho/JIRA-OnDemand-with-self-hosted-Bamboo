digraph jira_workflow {
	rankdir=LR;
	size="16,16"
	node [ shape = doublecircle ]; Open Closed;
	node [ shape = circle ];
        edge [ penwidth=3.0 ];
        
        Open              [ label = "Open\n(Developer)" ];
        Accepted          [ label = "Accepted\n(Assignee)" ];
        Review_Pending    [ label = "Review\nPending\n(Reviewer)" ];
        Approved          [ label = "Approved\n(Assignee)" ];
        
        Start             -> Open              [ label = "Create Ticket" ];
        Open              -> Open              [ label = "Assign owner" color = "red4" ];
        Open              -> Closed            [ label = "Mark as\ninvalid / duplicate" color = "red4" ];
        Open              -> Accepted          [ label = "Accept" color = "red4:purple:red4" penwidth=1.0 ];
        Accepted          -> Open              [ label = "Re-assign / Reject" color = "red4:purple:red4" penwidth=1.0 ];
        Accepted          -> Review_Pending    [ label = "PR build and test pass" color = "darkgreen" ];
        Accepted          -> Accepted          [ label = "PR build or test fail" color = "darkgreen" ];
        Review_Pending    -> Approved          [ label = "Approve" color = "navy" ];
        Review_Pending    -> Accepted          [ label = "Unapprove" color = "navy" ];
        Approved          -> Closed            [ label = "Merge then close" color = "red4:purple:red4" penwidth=1.0 ];
        Approved          -> Accepted          [ label = "Recall proposal" color = "red4:purple:red4" penwidth=1.0 ];
        Closed            -> Open              [ label = "Reopen" color = "red4" ];

        A0 -> B0 [ label = "User action" ];
        A1 -> B1 [ label = "Developer action" color = "red4" ];
        A2 -> B2 [ label = "Assignee action" color = "red4:purple:red4" penwidth=1.0 ];
        A3 -> B3 [ label = "Buildbot action" color = "darkgreen" ];
        A4 -> B4 [ label = "Reviewer action" color = "navy" ];
}
